# 键盘

* GetKeyState 获取按钮状态
> lctrl = (GetKeyState(VK_LCONTROL) & 0x8000);
> rctrl = (GetKeyState(VK_RCONTROL) & 0x8000);
> lshift = (GetKeyState(VK_LSHIFT) & 0x8000);
> rshift = (GetKeyState(VK_RSHIFT) & 0x8000);
> lalt = (GetKeyState(VK_MENU) & 0x8000);
> ralt =  (GetKeyState(VK_RMENU) & 0x8000);


## 键盘消息

* WM_KEYDOWN 按下事件
* WM_KEYUP 按下事件

* WM_CHAR 字符事件
> 注意，如果有输入法，那么最终合成的短词，也会一个字一个字的触发WM_CHAR事件
> 所以WM_CHAR里的字符可能是多字节的
> 如果注册窗口，采用的是RegisterClassW版本， 则WM_CHAR里的字符是unicode格式的

* WM_IME_STARTCOMPOSITION 开始输入法合成
* WM_IME_ENDCOMPOSITION 结束输入法合成
* WM_IME_COMPOSITION 输入法合成中
* WM_IME_SETCONTEXT 输入法的配置